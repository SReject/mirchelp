<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<script type="text/javascript" src="helpman_topicinit.js"></script>

   <title>File Server</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="/fserve,File Server" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">



<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p>&nbsp;</p>
<p><span class="f_Heading1">File Server</span></p>
<p>&nbsp;</p>
<p>The mIRC fileserver allows other users to access files on your hard disk and is therefore <span class="f_Bolddefault">dangerous</span> since if used <span class="f_Bolddefault">improperly</span> it will allow them to access private/confidential information.</p>
<p>&nbsp;</p>
<p><span class="f_Subheading">The /fserve command</span></p>
<p>A fileserver is initiated by using the <span class="f_Bolddefault">/fserve</span> command which initiates a DCC Chat to the specified user. You must specify a homedirectory. The user will be limited to accessing only files and directories within this homedirectory. The format is:</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">/fserve &lt;nickname&gt; &lt;maxgets&gt; &lt;homedirectory&gt; [welcomefile]</span></p>
<p>&nbsp;</p>
<p>The <span class="f_Bolddefault">maxgets</span> is the maximum number of <span class="f_Bolddefault">simultaneous</span> dcc gets that a user can have during a fileserver session.</p>
<p>&nbsp;</p>
<p>The <span class="f_Bolddefault">welcome file</span> is a text file that is sent to the user when they first connect. For example:</p>
<p>&nbsp;</p>
<p>/fserve goat 5 c:\users\level1 level1.txt</p>
<p>&nbsp;</p>
<p>This will initiate a filserver session to user goat with his homedirectory as c:\users\level1 and will send goat the text in the level1.txt file (presumably informing him that he is a level1 user and what files he can access etc.). The user can only have 5 simultaneous gets.</p>
<p>&nbsp;</p>
<p>In each directory, you can place a <span class="f_Bolddefault">dirinfo.srv</span> file which describes that directory. Each time the user performs a CD to change into a directory, mIRC will look for this file and if it finds it, the text in it will be sent to the user.</p>
<p>&nbsp;</p>
<p><span class="f_Subheading">Fileserver commands</span></p>
<p>The commands available to a user connected to your fileserver are:</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">cd &lt;directory&gt;</span> - change to the specified directory.</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">dir [-b|k] [-#] [/w]</span> - lists the name and size of each file in the current directory. The /w switch forces a wide listing. The [-b|k] selects bytes or k's. The [-#] specifies the number of files on each line in a horizontal listing.</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">ls [-b|k] [-#]</span> - lists the name of each file in the current directory using a wide listing.</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">get &lt;filename&gt;</span> - asks the fileserver to DCC Send the specified file.</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">read [-numlines] &lt;filename.txt&gt;</span> - reads the specified text file. The user will be sent a default of 20 lines and then prompted whether to continue listing. The -numlines option changes the default number of lines to a value between 5 and 50.</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">help</span> - lists the available commands.</p>
<p>&nbsp;</p>
<p><span class="f_Bolddefault">exit</span> or <span class="f_Bolddefault">bye</span> - terminates the connection.</p>
<p>&nbsp;</p>
<p><span class="f_Highlight">Note:</span></p>
<p>1. If a directory has a large number of files try to split them up into subdirectories, this will improve performance.</p>
<p>2. If a user is idle for too long the fileserver will automatically close the connection. You can set the idle time out in the <a href="dcc.html">DCC Options</a> dialog.</p>
<p>3. A user is limited to opening a <span class="f_Bolddefault">single</span> fileserver session at any one time. If mIRC initiates a fileserver session to a user and that user does not respond then the fileserver session will have to time-out and close before that user can ask for another session.</p>

</td></tr></table>

</body>
</html>
